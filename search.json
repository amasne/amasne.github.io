[{"title":"Linux常用命令","url":"/posts/48230.html","content":"关机&#x2F;重启&#x2F;注销\n\n\n常用命令\n作用\n\n\n\nshutdown -h now\n即刻关机\n\n\nshutdown -h 10\n10 分钟后关机\n\n\nshutdown -h 11:00\n11：00 关机\n\n\nshutdown -h +10\n预定时间关机（10 分钟后）\n\n\nshutdown -c\n取消指定时间关机\n\n\nshutdown -r now\n重启\n\n\nshutdown -r 10\n10 分钟之后重启\n\n\nshutdown -r 11:00\n定时重启\n\n\nreboot\n重启\n\n\ninit 6\n重启\n\n\ninit 0\n⽴刻关机\n\n\ntelinit 0\n关机\n\n\npoweroff\n⽴刻关机\n\n\nhalt\n关机\n\n\nsync\nbuff 数据同步到磁盘\n\n\nlogout\n退出登录 Shell\n\n\n系统信息和性能查看\n\n\n常用命令\n作用\n\n\n\nuname -a\n查看内核&#x2F;OS&#x2F;CPU 信息\n\n\nuname -r\n查看内核版本\n\n\nuname -m\n查看处理器架构\n\n\narch\n查看处理器架构\n\n\nhostname\n查看计算机名\n\n\nwho\n显示当前登录系统的⽤户\n\n\nwho am i\n显示登录时的⽤户名\n\n\nwhoami\n显示当前⽤户名\n\n\ncat &#x2F;proc&#x2F;version\n查看 linux 版本信息\n\n\ncat &#x2F;proc&#x2F;cpuinfo\n查看 CPU 信息\n\n\ncat &#x2F;proc&#x2F;interrupts\n查看中断\n\n\ncat &#x2F;proc&#x2F;loadavg\n查看系统负载\n\n\nuptime\n查看系统运⾏时间、⽤户数、负载\n\n\nenv\n查看系统的环境变量\n\n\nlsusb -tv\n查看系统 USB 设备信息\n\n\nlspci -tv\n查看系统 PCI 设备信息\n\n\nlsmod\n查看已加载的系统模块\n\n\ngrep MemTotal &#x2F;proc&#x2F;meminfo\n查看内存总量\n\n\ngrep MemFree &#x2F;proc&#x2F;meminfo\n查看空闲内存量\n\n\nfree -m\n查看内存⽤量和交换区⽤量\n\n\ndate\n显示系统⽇期时间\n\n\ncal 2021\n显示 2021 ⽇历表\n\n\ntop\n动态显示 cpu&#x2F;内存&#x2F;进程等情况\n\n\nvmstat 1 20\n每 1 秒采⼀次系统状态，采 20 次\n\n\niostat\n查看 io 读写&#x2F;cpu 使⽤情况\n\n\n查看 io 读写&#x2F;cpu 使⽤情况\n查询 cpu 使⽤情况（1 秒⼀次，共 10 次）\n\n\nsar -d 1 10\n查询磁盘性能\n\n\n磁盘和分区\n\n\n常用命令\n作用\n\n\n\nfdisk -l\n查看所有磁盘分区\n\n\nswapon -s\n查看所有交换分区\n\n\ndf -h\n查看磁盘使⽤情况及挂载点\n\n\ndf -hl\n同上\n\n\ndu -sh &#x2F;dir\n查看指定某个⽬录的⼤⼩\n\n\ndu -sk * | sort -rn\n从⾼到低依次显示⽂件和⽬录⼤⼩\n\n\nmount &#x2F;dev&#x2F;hda2 &#x2F;mnt&#x2F;hda2\n挂载 hda2 盘\n\n\nmount -t ntfs &#x2F;dev&#x2F;sdc1 &#x2F;mnt&#x2F;usbhd1\n指定⽂件系统类型挂载（如 ntfs）\n\n\nmount -o loop xxx.iso &#x2F;mnt&#x2F;cdrom\n挂 载 iso ⽂ 件\n\n\numount -v &#x2F;dev&#x2F;sda1\n通过设备名卸载\n\n\numount -v &#x2F;mnt&#x2F;mymnt\n通过挂载点卸载\n\n\nfuser -km &#x2F;mnt&#x2F;hda1\n强制卸载(慎⽤)\n\n\n⽤户和⽤户组\n\n\n常用命令\n作用\n\n\n\nuseradd codesheep\n创建⽤户\n\n\nuserdel -r codesheep\n删除⽤户\n\n\nusermod -g group_name user_name\n修改⽤户的组\n\n\nusermod -aG group_name user_name\n将⽤户添加到组\n\n\nusermod -s &#x2F;bin&#x2F;ksh -d &#x2F;home&#x2F;codepig –g dev codesheep\n修改⽤户 codesheep 的登录 Shell、主⽬录以及⽤户组\n\n\ngroups test\n查看 test ⽤户所在的组\n\n\ngroupadd group_name\n创建⽤户组\n\n\ngroupdel group_name\n删除⽤户组\n\n\ngroupmod -n new_name old_name\n重命名⽤户组\n\n\nsu - user_name\nsu - user_name\n\n\npasswd\n修改⼝令\n\n\npasswd codesheep\n修改某⽤户的⼝令\n\n\nw\n查看活动⽤户\n\n\nid codesheep\n查看指定⽤户 codesheep 信息\n\n\nlast\n查看⽤户登录⽇志\n\n\ncrontab -l\n查看当前⽤户的计划任务\n\n\ncut -d: -f1 &#x2F;etc&#x2F;passwd\n查看系统所有⽤户\n\n\ncut -d: -f1 &#x2F;etc&#x2F;group\n查看系统所有组\n\n\n⽹络和进程管理\n\n\n常用命令\n作用\n\n\n\nifconfig\n查看⽹络接⼝属性\n\n\nifconfig eth0\n查看某⽹卡的配置\n\n\nroute -n\n查看路由表\n\n\nnetstat -lntp\n查看所有监听端⼝\n\n\nnetstat -antp\n查看已经建⽴的 TCP 连接\n\n\nnetstat -lutp\n查看 TCP&#x2F;UDP 的状态信息\n\n\nifup eth0\n启⽤ eth0 ⽹络设备\n\n\nifdown eth0\n禁⽤ eth0 ⽹络设备\n\n\niptables -L\n查看 iptables 规则\n\n\nifconfig eth0 192.168.1.1 netmask 255.255.255.0\n配置 ip 地址\n\n\ndhclient eth0\n以 dhcp 模式启⽤ eth0\n\n\nroute add -net 0&#x2F;0 gw Gateway_IP\n配置默认⽹关\n\n\nroute add -net 192.168.0.0 netmask 255.255.0.0 gw 192.168.1.1\n配置静态路由到达⽹络’192.168.0.0&#x2F;16’\n\n\nroute del 0&#x2F;0 gw Gateway_IP\n删除静态路由\n\n\nhostname\n查看主机名\n\n\nhost www.baidu.com\n解析主机名\n\n\nnslookup www.baidu.com\n查询 DNS 记录，查看域名解析是否正常\n\n\nps -ef\n查看所有进程\n\n\nps -ef | grep codesheep\n过滤出你需要的进程\n\n\nkill -s name\nkill 指定名称的进程\n\n\nkill -s pid\nkill 指定 pid 的进程\n\n\ntop\n实时显示进程状态\n\n\nvmstat 1 20\n每 1 秒采⼀次系统状态，采 20 次\n\n\niostat\niostat\n\n\nsar -u 1 10\n查询 cpu 使⽤情况（1 秒⼀次，共 10 次）\n\n\nsar -d 1 10\n查询磁盘性能\n\n\n常⻅系统服务命令\n\n\n常用命令\n作用\n\n\n\nchkconfig –list\n列出系统服务\n\n\nservice &lt;服务名&gt; status\n查看某个服务\n\n\nservice &lt;服务名&gt; start\n启动某个服务\n\n\nservice &lt;服务名&gt; stop\n终⽌某个服务\n\n\nservice &lt;服务名&gt; restart\n重启某个服务\n\n\nsystemctl status &lt;服务名&gt;\n查看某个服务\n\n\nsystemctl start &lt;服务名&gt;\n启动某个服务\n\n\nsystemctl stop &lt;服务名&gt;\n终⽌某个服务\n\n\nsystemctl restart &lt;服务名&gt;\n重启某个服务\n\n\nsystemctl enable &lt;服务名&gt;\n关闭⾃启动\n\n\nsystemctl disable &lt;服务名&gt;\n关闭⾃启动\n\n\n⽂件和⽬录操作\n\n\n常用命令\n作用\n\n\n\ncd &lt;⽬录名&gt;\n进⼊某个⽬录\n\n\ncd ..\n回上级⽬录\n\n\ncd ..&#x2F;..\n回上两级⽬录\n\n\ncd\n进个⼈主⽬录\n\n\ncd -\n回上⼀步所在⽬录\n\n\npwd\n显示当前路径\n\n\nls\n查看⽂件⽬录列表\n\n\nls -F\n查看⽬录中内容（显示是⽂件还是⽬录）\n\n\nls -l\n查看⽂件和⽬录的详情列表\n\n\nls -a\n查看隐藏⽂件\n\n\nls -lh\n查看⽂件和⽬录的详情列表（增强⽂件⼤⼩易读性）\n\n\nls -lSr\n查看⽂件和⽬录列表（以⽂件⼤⼩升序查看）\n\n\ntree\n查看⽂件和⽬录的树形结构\n\n\nmkdir &lt;⽬录名&gt;\n创建⽬录\n\n\nmkdir dir1 dir2\n同时创建两个⽬录\n\n\nmkdir -p &#x2F;tmp&#x2F;dir1&#x2F;dir2\n创建⽬录树\n\n\nrm -f file1\n删除’file1’⽂件\n\n\nrmdir dir1\n删除’dir1’⽬录\n\n\nrm -rf dir1\n删除’dir1’⽬录和其内容\n\n\nrm -rf dir1 dir2\n同时删除两个⽬录及其内容\n\n\nmv old_dir new_dir\n重命名&#x2F;移动⽬录\n\n\ncp file1 file2\n复制⽂件\n\n\ncp dir&#x2F;* .\n复制某⽬录下的所有⽂件⾄当前⽬录\n\n\ncp -a dir1 dir2\n复制⽬录\n\n\ncp -a &#x2F;tmp&#x2F;dir1 .\n复制⼀个⽬录⾄当前⽬录\n\n\nln -s file1 link1\n创建指向⽂件&#x2F;⽬录的软链接\n\n\nln file1 lnk1\n创建指向⽂件&#x2F;⽬录的物理链接\n\n\nfind &#x2F; -name file1\n从跟⽬录开始搜索⽂件&#x2F;⽬录\n\n\nfind &#x2F; -user user1\n搜索⽤户 user1 的⽂件&#x2F;⽬录\n\n\nfind &#x2F;dir -name *.bin\n在⽬录&#x2F;dir 中搜带有.bin 后缀的⽂件\n\n\nlocate &lt;关键词&gt;\n快速定位⽂件\n\n\nlocate *.mp4\n寻找.mp4 结尾的⽂件\n\n\nwhereis &lt;关键词&gt;\n显示某⼆进制⽂件&#x2F;可执⾏⽂件的路径\n\n\nwhich &lt;关键词&gt;\n查找系统⽬录下某的⼆进制⽂件\n\n\nchmod ugo+rwx dir1\n设置⽬录所有者(u)、群组(g)及其他⼈(o)的读（r）写(w)执⾏(x)权限\n\n\nchmod go-rwx dir1\n移除群组(g)与其他⼈(o)对⽬录的读写执⾏权限\n\n\nchown user1 file1\n改变⽂件的所有者属性\n\n\nchown -R user1 dir1\n改变⽬录的所有者属性\n\n\nchgrp group1 file1\n改变⽂件群组\n\n\nchown user1:group1 file1\n改变⽂件的所有⼈和群组\n\n\n⽂件查看和处理\n\n\n常用命令\n作用\n\n\n\ncat file1\n查看⽂件内容\n\n\ncat -n file1\n查看内容并标示⾏数\n\n\ntac file1\n从最后⼀⾏开始反看⽂件内容\n\n\nmore file1\nmore file1\n\n\nless file1\n类似 more 命令，但允许反向操作\n\n\nhead -2 file1\n查看⽂件前两⾏\n\n\ntail -2 file1\n查看⽂件后两⾏\n\n\ntail -f &#x2F;log&#x2F;msg\n实时查看添加到⽂件中的内容\n\n\ngrep codesheep hello.txt\n在⽂件 hello.txt 中查找关键词 codesheep\n\n\ngrep ^sheep hello.txt\n在⽂件 hello.txt 中查找以 sheep 开头的内容\n\n\ngrep [0-9] hello.txt\n选择 hello.txt ⽂件中所有包含数字的⾏\n\n\nsed ‘s&#x2F;s1&#x2F;s2&#x2F;g’ hello.txt\n将 hello.txt ⽂件中的 s1 替换成 s2\n\n\nsed ‘&#x2F;^$&#x2F;d’ hello.txt\n从 hello.txt ⽂件中删除所有空⽩⾏\n\n\nsed ‘&#x2F; *#&#x2F;d; &#x2F;^$&#x2F;d’ hello.txt\n从 hello.txt ⽂件中删除所有注释和空⽩⾏\n\n\nsed -e ‘1d’ hello.txt\n从⽂件 hello.txt 中排除第⼀⾏\n\n\nsed -n ‘&#x2F;s1&#x2F;p’ hello.txt\n查看只包含关键词”s1”的⾏\n\n\nsed -e ‘s&#x2F; *$&#x2F;&#x2F;‘ hello.txt\n删除每⼀⾏最后的空⽩字符\n\n\nsed -e ‘s&#x2F;s1&#x2F;&#x2F;g’ hello.txt\n从⽂档中只删除词汇 s1 并保留剩余全部\n\n\nsed -n ‘1,5p;5q’ hello.txt\n查看从第⼀⾏到第 5 ⾏内容\n\n\nsed -n ‘5p;5q’ hello.txt\n查看第 5 ⾏\n\n\npaste file1 file2\n合并两个⽂件或两栏的内容\n\n\npaste -d ‘+’ file1 file2\n合并两个⽂件或两栏的内容，中间⽤”+”区分\n\n\nsort file1 file2\n排序两个⽂件的内容\n\n\ncomm -1 file1 file2\n⽐较两个⽂件的内容(去除’file1’所含内容)\n\n\ncomm -2 file1 file2\n⽐较两个⽂件的内容(去除’file2’所含内容\n\n\ncomm -3 file1 file2\n⽐较两个⽂件的内容(去除两⽂件共有部分)\n\n\n打包和解压\n\n\n常用命令\n作用\n\n\n\nzip xxx.zip file\n压缩⾄ zip 包\n\n\nzip -r xxx.zip file1 file2 dir1\n将多个⽂件+⽬录压成 zip 包\n\n\nunzip xxx.zip\n解压 zip 包\n\n\ntar -cvf xxx.tar file\n创建⾮压缩 tar 包\n\n\ntar -cvf xxx.tar file1 file2 dir1\n将多个⽂件+⽬录打 tar 包\n\n\ntar -tf xxx.tar\n查看 tar 包的内容\n\n\ntar -xvf xxx.tar\n解压 tar 包\n\n\ntar -xvf xxx.tar -C &#x2F;dir\n将 tar 包解压⾄指定⽬录\n\n\ntar -cvfj xxx.tar.bz2 dir\n创建 bz2 压缩包\n\n\ntar -jxvf xxx.tar.bz2\n解压 bz2 压缩包\n\n\ntar -cvfz xxx.tar.gz dir\n创建 gzip 压缩包\n\n\ntar -zxvf xxx.tar.gz\n解压 gzip 压缩包\n\n\nbunzip2 xxx.bz2\n解压 bz2 压缩包\n\n\nbzip2 filename\n压缩⽂件\n\n\ngunzip xxx.gz\n解压 gzip 压缩包\n\n\ngzip filename\n压缩⽂件\n\n\ngzip -9 filename\n最⼤程度压缩\n\n\nRPM 包管理命令\n\n\n常用命令\n作用\n\n\n\nrpm -qa\n查看已安装的 rpm 包\n\n\nrpm -q pkg_name\n查询某个 rpm 包\n\n\nrpm -q –whatprovides xxx\n显示 xxx 功能是由哪个包提供的\n\n\nrpm -q –whatrequires xxx\n显示 xxx 功能被哪个程序包依赖的\n\n\nrpm -q –changelog xxx\n显示 xxx 包的更改记录\n\n\nrpm -qi pkg_name\n查看⼀个包的详细信息\n\n\nrpm -qd pkg_name\n查询⼀个包所提供的⽂档\n\n\nrpm -qc pkg_name\n查看已安装 rpm 包提供的配置⽂件\n\n\nrpm -ql pkg_name\n查看⼀个包安装了哪些⽂件\n\n\nrpm -qf filename\n查看某个⽂件属于哪个包\n\n\nrpm -qR pkg_name\n查询包的依赖关系\n\n\nrpm -ivh xxx.rpm\n安装 rpm 包\n\n\nrpm -ivh –test xxx.rpm\n测试安装 rpm 包\n\n\nrpm -ivh –nodeps xxx.rpm\n安装 rpm 包时忽略依赖关系\n\n\nrpm -e xxx\n卸载程序包\n\n\nrpm -Fvh pkg_name\n升级确定已安装的 rpm 包\n\n\nrpm -Uvh pkg_name\n升级 rpm 包(若未安装则会安装)\n\n\nrpm -V pkg_name\nRPM 包详细信息校验\n\n\nYUM 包管理命令\n\n\n常用命令\n作用\n\n\n\nyum repolist enabled\n显示可⽤的源仓库\n\n\nyum search pkg_name\n搜索软件包\n\n\nyum install pkg_name\n下载并安装软件包\n\n\nyum install –downloadonly pkg_name\n只 下 载 不 安 装\n\n\nyum list\n显示所有程序包\n\n\nyum list installed\n查看当前系统已安装包\n\n\nyum list updates\n查看可以更新的包列表\n\n\nyum check-update\n查看可升级的软件包\n\n\nyum update\n更新所有软件包\n\n\nyum update pkg_name\n升级指定软件包\n\n\nyum deplist pkg_name\n列出软件包依赖关系\n\n\nyum remove pkg_name\n删除软件包\n\n\nyum clean all\n清除缓存\n\n\nyum clean packages\n清除缓存的软件包\n\n\nyum clean headers\n清除缓存的 header\n\n\nDPKG 包管理命令\n\n\n常用命令\n作用\n\n\n\ndpkg -c xxx.deb\n列出 deb 包的内容\n\n\ndpkg -i xxx.deb\n安装&#x2F;更新 deb 包\n\n\ndpkg -r pkg_name\n移除 deb 包\n\n\ndpkg -P pkg_name\n移除 deb 包(不保留配置)\n\n\ndpkg -l\n查看系统中已安装 deb 包\n\n\ndpkg -l pkg_name\n显示包的⼤致信息\n\n\ndpkg -L pkg_name\n查看 deb 包安装的⽂件\n\n\ndpkg -s pkg_name\n查看包的详细信息\n\n\ndpkg –unpack xxx.deb\n解开 deb 包的内容\n\n\nAPT 软件⼯具\n\n\n常用命令\n作用\n\n\n\napt-cache search pkg_name\n搜索程序包\n\n\napt-cache show pkg_name\n获取包的概览信息\n\n\napt-get install pkg_name\n安装&#x2F;升级软件包\n\n\napt-get purge pkg_name\n卸载软件（包括配置）\n\n\napt-get remove pkg_name\n卸载软件（不包括配置）\n\n\napt-get update\n更新包索引信息\n\n\napt-get upgrade\n更新已安装软件包\n\n\napt-get clean\n清理缓存\n\n\n"}]